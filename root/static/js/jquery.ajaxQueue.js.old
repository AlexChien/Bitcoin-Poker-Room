/**
 * Ajax Queue Plugin
 *
 * Original Homepage: http://jquery.com/plugins/project/ajaxqueue
 * Original Documentation: http://docs.jquery.com/AjaxQueue
 */

jQuery.ajaxQueue = function(o){
  var _old = o.complete;
  o.complete = function(){
    if ( _old ) _old.apply( this, arguments );
    jQuery([ jQuery.ajaxQueue ]).dequeue( "ajax" );
  };

  jQuery([ jQuery.ajaxQueue ]).queue("ajax", function(){
    jQuery.ajax( o );
  });

  if ( jQuery([ jQuery.ajaxQueue ]).queue("ajax").length == 1 ) {
    jQuery([ jQuery.ajaxQueue ]).dequeue("ajax");
  }
};